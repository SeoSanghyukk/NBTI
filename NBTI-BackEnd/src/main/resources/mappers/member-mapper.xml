<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Member">


    <select id="login" resultType="String">
           SELECT id FROM members WHERE id=#{id} AND pw=#{pw}
    </select>
    
    <select id="mydata" resultType="com.nbti.dto.MembersDTO">
    	select * from members where id = #{id}
    </select>
	
	<update id="updateMyData">
		update members set address=#{address}, member_call = #{member_call},email= #{email} where id=#{id}
	</update>
	
	<select id="selectAll" resultType="com.nbti.dto.MembersDTO">
		select * from members
	</select>
	
	<insert id="insert" parameterType="com.nbti.dto.MembersDTO">
	   INSERT INTO members (
	    id, pw, name, email, team_code, job_code, member_level, member_call, address, birth, gender, ent_yn, vacation_period, enter_date
	) VALUES (
	    #{id}, #{pw}, #{name}, #{email}, #{team_code}, #{job_code}, #{member_level}, #{member_call}, #{address}, #{birth}, #{gender}, #{ent_yn}, #{vacation_period}, SYSDATE
	)
	</insert>
	
	<select id="checkPw" resultType="boolean">
		select count(*) from members where id = #{id} and pw = #{pw}
	</select>
	
	<update id="changePw">
		update members set pw = #{pw} where id = #{id}
	</update>

</mapper>

